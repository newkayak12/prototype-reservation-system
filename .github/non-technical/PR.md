# PR에 대해서

## 형태적

- 기존의 PR 포맷에서 아래와 같이 변경했다.
```yaml
## 변경 전
## 🎫 Context

- github:
- jira:

## 📄 Summary
- ~한 작업 진행

## 🔥 Impact
- ~한 변경점이 생김

## 🚦 How to Test (검증방법)
- ~를 테스트

###################################################################
## 변경 후 
## 🎫 Context

- github:
- jira:

## 📄 Summary
- ~한 작업 진행

## ✨ What’s Changed
- ~를 수정

## 🧩 Motivation & Background
- ~해서 필요

## 🔥 Impact
- ~한 변경점이 생김

## 🚦 How to Test (검증방법)
- ~를 테스트

## 📝 Notes
  <!-- 기타, 추가 설명, 리뷰 포인트 등 -->
- 참고/리뷰 요청/논의 사항 등
```
- 이런 변경에는 조그마한 고민이 있었다.
  1. 보통 티켓은 어떻게 발급되는가?
  2. 문서화를 왜 하는가?
  3. PullRequest는 적당히 작성해도 되는건가?
  4. PullRequest의 횟수는 어느 정도가 적당한가?

### 1. 티켓이 ?
1. Initiative
  - 조직, 팀, 프로젝트의 큰 방향성/ 전략/ 비전을 실현하기 위한 목표 또는 프로그램 수준의 작업 단위
  - Epic, Story를 아우르는 상위 개념
2. Epic
  - 크고 복잡한 가치 단위
  - 단기간에 완료할 수 없으며, 여러 Story로 쪼갤 수 있다.
  - 한 번에 개발, 릴리즈가 어려운 범위의 큰 작업
3. Story(UserStory)
  - 최종 사용자 혹은 고객 관점에서 작성된, 완성 가능한 작은 기능 단위
  - 실제 개발/ 배포가 가능한 "사용자 가치" 중심의 요구 사항
  - Epic을 쪼갠 세부 기능 단위
4. Task(Sub-task)
  - Story를 실제로 구현하기 위한 구체적인 작업/ 코딩/ 운영 등 할 일의 단위
  - Story를 완성하기 위한 세부 개발, 테스트 문서화 등 업무

- 위와 같은 계층으로 나뉘어 있다. 위 개념을 확장하면 OKR과 엮을 수도 있는데
> 1. Objective(O)
>    1. 조직, 팀, 프로젝트의 궁극적 목표
>    2. 비즈니스 임팩트 또는 "왜 이것을 하는가?"
>    - ex) 시장 점유율 20% 달성
> 2. Initiative
>    1. Objective를 달성하기 위한 전략/ 주요 추진 프로그램
>    2. "목표 실현을 위해서 무엇을 실제로 할 것인가?"
>    3. 여러 Initiative가 한 Objective를 뒷받침
>    - ex) 고객 피드백 시스템 전면 개편
>    - ex) 신규 채널 런칭
> 3. KeyResult(KR)
>    1. Objective의 달성 정도를 측정하는 수치/ 성과 지표
>    2. 정략적(수치) 또는 명확히 측정 가능한 형태
>    - ex) 고객 피드백 반영율 80% 이상
>    - ex) 신규 채널 3개 분기 내 런칭
> 4. Epic
>    1. KeyResult 달성을 위한 큰 기능/ 작업 묶음(Agile Delivery)
>    2. Epic은 실제 프로젝트의 큰 개발/ 기획 단위(한 번에 완료 불가)
>    3. 한 KeyResult에 여러 Epic이 매핑될 수 있다.
>    - ex) 고객 피드백 수집 API 개발
>    - ex) 실시간 피드백 알림 구축
>    - ex) 신규 채널 파트너 연동 모듈
> 5. Story(UserStory)
>    - 정의
>      1. 최종 사용자 (고객)의 관점에서 작성된, 비즈니스 가치가 있는 최소 단위의 기능 또는 요구 사항
>      2. 사용자가 "무엇을 할 수 있어야 하는가?"를 비개발자도 이할 수 있는 언어로 서술
>      3. "왜 필요한가(가치)"와 "무엇을 제공해야 하는가"에 집중
>    - 특징
>      1. 하나의 "Story"가 완성되면 반드시 비즈니스, 고객 가치가 바로 드러나야 한다.
>      2. 개발자, 기획자, QA, PO 등 다양한 역할이 함께 이해/ 검토/ 수정 가능
>      3. 보통 독립적으로 테스트(인수/ 시나리오) 가능
>    - 작성자
>      - PO, 기획자, 개발자, QA 등
>    - 작성 양식
>      - As a [사용자]
>      - I want to [동작/목표],
>      - so that [이유/가치]
>      - Acceptance Criteria(수용 조건, AC)
>        - Given
>        - When
>        - Then
> 6. Task(Sub-task)
>    - 정의
>      1. 하나의 Story를 실제로 구현하기 위해서 필요한 구체적인 작업 단위
>      2. 코드 작성, UI 구현, 테스트, 문서화 , 설정, 인프라 작업 등 구체적 할 일
>      3. 개발자나 담당자 입장에서 "무엇을 해야 하는가"에 초점
>    - 특징
>      1. Task(Sub-task)는 단독으로 비즈니스 가치를 제공하지 않는다.
>      2. 여러 개의 Task가 모여 하나의 Story를 완성
>      3. 대개 한 명이 담당, Story는 여러 Task로 나뉜다.
>    - 작성자
>      - 주로 개발자/ 실무자
>    - 작성 양식
>      - 구체적이고 실행 가능한 할 일 중심으로
>      - 명확학 액션 + 작업 대상
>      - 한 Task에 한 작업
>      - 누가 맡아도 바로 할 수 있도록 구체적으로
- 이 계층에서 개발자가 Story를 기준으로 branch 전략을 가져가고
- 하위 task를 바탕으로 개발자 간 일을 나누거나 한다. 
- task는 story의 번호로 branch를 딴 곳을 기준으로 분화한다.
- 이를 통해서 PR의 단위에 대해서 알 수 있었다.

### 2. 문서화를 왜 하는가?
- 간단하다. 누가 봐도 바로 이해할 수 있고
- 프로젝트 진행 시 컨텍스트, 히스토리를 몰라도 문서를 보고 파악할 수 있고
- 어떤 목적으로 만들었는지? 
- 왜 만들었는지?
- 위와 같은 이유를 전래 동화처럼 구전 시키는 것을 피하기 위해서다.
- 이는 온보딩, 운영 효율, 개선/리펙토링 용이성과 직결된다.

#### 2.1 고려해 볼 문서 형태
1. API Spec
2. 상세 설계
   1. Spec
      1. 상세 요소 (버전 정보)
      2. 기능 명세서
   2. ERDiagram
   3. 복잡한 구조/ 로직/ 비즈니스 의사결정 사항
   4. 패키지 구조, 주요 플로우, 데이터 흐름, 의사 결정 근거 등
      1. 컴포넌트 구조도
      2. 계층/모듈 의존도
      3. 시퀀스/ 플로우 차트
   5. 테스트 케이스 시나리오
   6. 운영/ 배포 가이드

- 이와 같이 PullRequest의 범위, PullRequest의 문서로써의 의미를 알아봤다.

## 양태적
### 1. 어느 정도까지 작성해야 하는가?
- 개인적으로 여러 뒷받침 되는 문서가 있고 PR에 Comment를 다는 동료가 같은 팀이라는 전제 하에서 여러 문서 처럼 자세하게 쓸 필요는 없다고 생각한다.
  - 그러나 PR 자체로 어떤 Story를 해결하는지
  - 그 방법이 어떤 것인지?
  - 어떠한 이유에서 진행하는지?
  - 코드적으로 무엇이 바뀐건지?
  - 맥락적으로 어떻게 바뀐건지?
  - 무엇을 검증하고 확인했는지?
  - 특별한 사항이 무엇인지?
- 위와 같은 항목들을 보고 어떤 컨텍스트인지 다른 문서를 살펴보지 않을 정도에서 너무 장황하지 않게 작성하는 것이 좋지 않을까하는 결론을 내렸다.

### 2. PR의 내용, PR의 Size
#### 1. PR의 내용. 동작? 기능?
- PR의 내용, 그러니까 성격은 두 가지로 나눌 수 있을 것 같다.
  1. 기능 변경(B): 동작에 대한 변경
  2. 구조 변경(S): 동작은 변경되지 않고 내부 구조가 변경되는 경우 
- 간혹 이 둘이 섞여서 PR이 올라가고는 했는데 이 부분에 대해서 **B, S를 최대한 분리하도록 하는 것**을 목표로 한다.
- 추가로 둘 다 진행해야 한다면? S를 먼저 진행하는 것을 목표로 한다.
#### 2. Size
- PR 사이즈는 Reviewer가 한 번에 검토해야 할 내용이다.
  - Reviewer가 Review를 하는 것이 **당연하지 않다**고 생각한다.
  - 따라서 한 번에 보기 쉽도록 사이즈를 조정하는 것이 좋다.
- 최근(2025.06) PRSize에 대해서 변경했다.
  - 이전의 사이즈는 위와 같은 것을 고민하여 최대한 작게 잡았다.
  - 그러나 실질적으로 800라인 이상 변경되면 XL로 잡히는 것이 꽤 적다는 생각이 들었다. 따라서 1000라인으로 수정했다.
- PR의 사이즈가 너무 커도 문제지만 너무 작아도 검토자에게 이에 대한 중요성을 어필하기 힘들어진다.
- 따라서 PR의 사이즈를 조정하고 최대한 **XL**를 넘지 않는 사이즈로 PR을 조정하는 것을 목표로 한다.